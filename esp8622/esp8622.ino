//
// CONSTANTS
//
#include "user_constants.h"



// PERSISTENCE
#include <ESP_EEPROM.h>
uint8_t pr = 0;
uint8_t pg = 0;
uint8_t pb = 0;

void saveColor(uint8_t r, uint8_t g, uint8_t b){
  EEPROM.put(0, (uint8_t) r);
  EEPROM.put(1, (uint8_t) g);
  EEPROM.put(2, (uint8_t) b);
  EEPROM.commit();
  
  pr = r;
  pg = g;
  pb = b;
}


// NEOPIXELS 
#include <Adafruit_NeoPixel.h>
#ifdef __AVR__
  #include <avr/power.h>
#endif
#define PIN        D6
#define NUMPIXELS 300

Adafruit_NeoPixel pixels(NUMPIXELS, PIN, NEO_GRB + NEO_KHZ800);
//Adafruit_NeoPixel pixels(NUMPIXELS, PIN, NEO_RGB + NEO_KHZ800);
//#define DELAYVAL 1

uint8_t cr = 0;
uint8_t cg = 0;
uint8_t cb = 0;


void setColor(uint8_t r, uint8_t g, uint8_t b){
  cr = r;
  cg = g;
  cb = b;
  uint8_t* buf = pixels.getPixels();
  for(int i=0; i<300; i++) {
    // pixels.Color() takes RGB values, from 0,0,0 up to 255,255,255
//    pixels.setPixelColor(i, pixels.Color(r, g, b));
    *buf = g;
    buf++;
    *buf = r;
    buf++;
    *buf = b;
    buf++;
    
  }
  pixels.show();
//delay(DELAYVAL);
}



//#define TEST
#ifdef TEST

const uint8_t FIRE[] = {0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,4,0,0,4,0,1,6,0,1,6,0,1,8,0,1,8,0,2,10,0,2,12,0,3,14,0,3,17,0,5,20,0,5,20,0,5,20,0,5,20,0,5,20,0,5,20,0,5,20,0,5,20,0,6,17,1,6,17,1,6,17,1,5,14,0,3,12,0,2,10,0,2,8,0,0,0,0,0,2,0,0,2,0,0,2,0,0,2,0,0,4,0,1,6,0,1,6,0,1,8,0,3,26,0,3,26,0,2,14,0,3,17,0,5,20,0,9,33,0,22,68,2,22,68,2,16,49,1,13,41,1,10,29,1,7,25,0,7,25,0,10,29,1,10,29,1,10,29,1,9,25,1,7,21,2,5,14,0,3,12,0,2,10,0,0,0,0,0,2,0,0,2,0,0,2,0,0,4,0,0,4,0,1,6,0,1,8,0,2,10,0,10,46,0,10,46,0,3,21,0,5,29,0,14,54,0,32,116,0,48,127,2,59,127,11,65,127,22,54,127,12,25,71,2,13,41,2,25,71,2,37,101,6,42,108,12,35,91,10,35,91,10,16,48,2,9,28,1,5,14,0,3,12,0,0,0,0,0,2,0,0,4,0,1,8,0,1,8,0,1,6,0,1,6,0,1,8,0,2,12,0,2,14,0,3,17,0,7,35,0,22,101,0,42,118,6,54,127,12,65,127,17,79,127,29,75,127,27,78,127,26,65,127,12,42,118,6,60,127,6,75,127,12,82,127,34,82,127,39,82,127,38,75,127,27,35,91,10,9,25,1,5,14,0,0,2,0,0,6,0,4,41,0,7,54,0,1,20,0,1,6,0,2,10,0,7,35,0,12,59,0,12,59,0,5,29,0,7,35,0,28,100,0,49,127,12,49,127,7,50,127,2,55,127,2,65,127,12,70,127,17,78,127,26,75,127,23,78,127,26,79,127,21,78,127,18,82,127,26,82,127,38,82,127,34,75,127,17,13,37,2,5,14,0,0,2,0,1,8,0,12,59,0,12,67,0,4,34,0,1,12,0,12,59,0,26,101,8,22,101,5,22,101,0,23,92,0,22,101,0,27,109,0,27,92,1,32,108,1,48,127,0,50,127,2,44,123,5,70,127,22,82,127,34,82,127,34,79,127,21,78,127,16,79,127,7,82,127,16,82,127,34,82,127,29,66,127,9,13,37,2,5,14,0,0,2,0,0,2,0,4,34,0,8,67,0,4,41,0,4,41,0,12,67,0,22,92,6,26,101,8,23,92,0,17,76,0,12,67,0,22,83,0,23,92,0,32,116,0,48,127,0,48,127,0,41,118,3,42,118,6,54,127,7,70,127,22,75,127,23,75,127,23,79,127,21,78,127,16,74,127,5,68,127,8,35,91,10,9,25,1,3,12,0,0,0,0,1,16,0,4,34,0,3,26,0,2,14,0,1,8,0,2,12,0,3,17,0,3,26,0,3,26,0,3,21,0,5,25,0,10,46,0,23,92,0,38,115,1,32,108,1,17,59,1,11,37,1,11,37,1,13,37,1,13,41,2,18,54,2,31,92,3,42,118,6,53,127,2,38,109,6,25,71,2,9,25,1,5,14,0,3,12,0,0,0,0,1,8,0,3,26,0,1,8,0,0,4,0,1,6,0,1,6,0,1,8,0,2,10,0,2,12,0,7,35,0,17,76,0,7,43,0,5,20,0,8,29,0,8,29,0,5,25,0,5,20,0,5,25,0,7,25,0,7,25,0,7,25,0,9,25,1,10,29,1,10,29,1,9,25,1,7,21,1,5,14,0,3,12,0,2,10,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,4,0,1,6,0,1,6,0,1,8,0,1,8,0,3,21,0,15,71,3,10,46,0,3,17,0,3,17,0,3,17,0,3,17,0,5,17,0,5,17,0,5,20,0,5,20,0,5,20,0,6,17,1,6,17,1,5,17,0,5,14,0,5,14,0,3,12,0,2,10,0,2,8,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,4,0,0,4,0,1,6,0,1,6,0,1,8,0,1,8,0,2,10,0,2,12,0,3,14,0,3,17,0,5,20,0,5,17,0,5,17,0,5,20,0,5,20,0,5,20,0,5,20,0,5,20,0,6,17,1,6,17,1,6,17,1,5,14,0,3,12,0,2,10,0,2,8,0,0,0,0,0,2,0,0,2,0,0,2,0,0,2,0,0,4,0,1,6,0,1,6,0,2,14,0,3,26,0,3,26,0,5,20,0,10,41,0,12,59,0,10,37,0,5,25,0,5,20,0,5,20,0,5,25,0,7,25,0,7,25,0,13,37,1,10,29,1,10,29,1,10,29,1,9,25,1,7,21,2,5,14,0,3,12,0,2,10,0,0,0,0,0,2,0,0,2,0,0,2,0,0,4,0,0,4,0,1,6,0,7,43,0,12,76,0,12,76,0,12,59,0,26,101,8,43,127,12,44,127,7,32,108,1,11,40,1,8,29,0,7,25,0,8,29,0,26,77,2,41,118,3,50,127,2,34,98,4,26,71,5,26,71,5,27,76,4,21,60,3,10,29,1,5,14,0,3,12,0,0,0,0,0,2,0,0,2,0,0,4,0,1,8,0,1,6,0,1,6,0,1,8,0,4,34,0,10,46,0,23,108,0,49,127,18,55,127,23,59,127,18,49,127,12,28,90,5,22,75,1,14,54,0,31,92,3,59,127,11,79,127,21,79,127,24,78,127,26,79,127,31,82,127,39,82,127,38,75,127,17,42,108,12,15,44,2,5,14,0,0,2,0,1,8,0,1,6,0,1,16,0,7,54,0,12,67,0,7,54,0,2,14,0,2,14,0,5,20,0,12,67,0,30,115,11,49,127,12,54,127,12,70,127,22,65,127,22,54,127,12,54,127,7,60,127,6,64,127,3,66,127,3,71,127,3,74,127,8,82,127,32,82,127,34,79,127,24,77,127,8,69,127,3,36,103,2,5,14,0,3,26,0,4,34,0,4,41,0,10,61,3,16,75,6,14,81,3,7,43,0,3,17,0,10,46,0,12,59,0,12,59,0,27,109,0,37,122,2,42,127,3,45,127,3,37,101,6,35,91,10,49,127,7,58,127,3,68,127,8,70,127,17,78,127,18,75,127,12,77,127,8,82,127,24,82,127,34,82,127,34,79,127,24,13,37,2,5,14,0,0,2,0,0,2,0,1,8,0,1,12,0,1,16,0,4,41,0,3,21,0,2,12,0,7,43,0,17,84,0,27,109,6,43,127,17,43,127,12,40,127,3,37,122,2,32,100,1,17,67,0,38,115,1,52,127,0,58,127,1,61,127,1,64,127,3,69,127,3,77,127,8,79,127,24,79,127,24,65,127,17,35,91,10,9,25,1,3,12,0,0,0,0,3,26,0,1,6,0,0,4,0,2,14,0,1,8,0,2,12,0,1,8,0,2,12,0,3,21,0,12,59,0,22,101,0,28,100,0,17,76,0,10,41,0,10,37,0,9,33,0,11,40,1,22,68,2,26,77,2,25,71,2,26,77,2,36,103,2,42,118,6,37,101,6,38,109,6,15,44,2,9,25,1,5,14,0,3,12,0,0,0,0,1,8,0,3,26,0,1,8,0,0,4,0,1,6,0,1,6,0,1,8,0,2,10,0,12,59,0,12,67,0,5,29,0,5,25,0,5,20,0,8,29,0,8,29,0,5,25,0,5,20,0,5,25,0,7,25,0,7,25,0,7,25,0,9,28,1,10,29,1,9,28,1,9,25,1,7,21,1,5,14,0,3,12,0,2,10,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,4,0,1,6,0,1,6,0,1,8,0,3,17,0,3,21,0,15,71,3,10,46,0,3,17,0,3,17,0,3,17,0,3,17,0,5,17,0,5,17,0,5,20,0,5,20,0,5,20,0,6,17,1,6,17,1,5,17,0,5,14,0,5,14,0,3,12,0,2,10,0,2,8,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,4,0,0,4,0,1,6,0,1,6,0,1,8,0,1,8,0,5,29,0,2,12,0,5,25,0,3,17,0,5,20,0,5,17,0,5,17,0,5,20,0,5,20,0,5,20,0,5,20,0,5,20,0,7,21,1,6,17,1,5,17,0,5,14,0,3,12,0,2,10,0,2,8,0,0,0,0,0,2,0,0,2,0,0,2,0,0,2,0,0,4,0,1,6,0,1,8,0,2,14,0,7,35,0,17,84,0,27,109,0,28,115,0,17,76,0,5,25,0,5,20,0,5,20,0,22,68,2,31,92,3,31,92,3,22,68,2,13,34,2,11,33,1,11,33,1,11,33,1,10,29,1,7,21,2,5,14,0,3,12,0,2,10,0,0,0,0,0,2,0,0,2,0,0,2,0,0,4,0,0,4,0,1,6,0,3,26,0,15,71,3,32,112,14,43,127,17,39,115,5,37,122,2,27,109,0,7,35,0,8,29,0,27,92,1,65,127,17,70,127,17,65,127,17,65,127,17,42,108,12,42,108,12,42,108,12,59,127,11,55,127,2,42,108,12,10,29,1,5,14,0,3,12,0,0,0,0,0,2,0,3,26,0,4,34,0,1,12,0,1,6,0,1,8,0,10,61,3,27,109,6,43,127,17,32,117,6,32,116,0,27,109,0,17,67,0,13,46,0,26,77,2,44,123,5,65,127,12,65,127,12,70,127,22,65,127,17,75,127,27,82,127,32,78,127,13,78,127,18,78,127,13,82,127,29,70,127,17,10,29,1,5,14,0,1,8,0,7,43,0,13,69,3,7,54,0,1,12,0,1,6,0,1,8,0,5,29,0,13,69,3,28,108,11,22,101,5,17,67,0,22,75,1,22,83,0,28,100,0,42,122,1,59,127,11,58,127,3,64,127,5,75,127,17,82,127,34,82,127,38,82,127,39,82,127,21,79,127,7,77,127,5,77,127,8,70,127,12,13,37,2,5,14,0,1,16,0,7,43,0,4,41,0,1,20,0,1,6,0,1,6,0,3,26,0,12,67,0,7,54,0,10,46,0,15,71,3,12,51,0,8,29,0,5,25,0,8,29,0,28,100,0,54,127,7,65,127,17,64,127,5,66,127,5,71,127,8,78,127,18,82,127,39,82,127,36,82,127,32,82,127,29,82,127,26,65,127,12,13,37,2,5,14,0,0,2,0,0,2,0,1,8,0,1,12,0,0,4,0,1,6,0,1,12,0,2,12,0,2,14,0,3,14,0,5,29,0,23,92,0,17,76,0,17,67,0,22,75,1,34,121,0,36,103,2,31,92,3,41,118,3,65,127,12,78,127,26,82,127,29,79,127,29,70,127,17,60,127,6,60,127,6,42,118,6,35,91,10,9,25,1,3,12,0,0,0,0,0,2,0,0,2,0,0,4,0,2,14,0,1,8,0,2,12,0,1,8,0,2,12,0,2,12,0,2,12,0,5,29,0,23,92,0,34,121,0,39,127,0,32,116,0,10,41,0,11,40,1,14,45,1,31,92,3,42,108,12,37,101,6,24,66,4,16,44,4,13,41,2,13,37,2,15,44,2,9,25,1,5,14,0,3,12,0,0,0,0,1,8,0,3,26,0,1,8,0,0,4,0,1,6,0,1,6,0,1,8,0,12,59,0,10,46,0,2,14,0,2,12,0,3,21,0,12,51,0,22,75,1,10,37,0,5,25,0,5,20,0,5,25,0,7,25,0,10,29,1,10,29,1,9,25,1,9,25,1,9,28,1,9,25,1,7,21,1,5,14,0,3,12,0,2,10,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,4,0,1,6,0,1,6,0,1,8,0,3,17,0,2,10,0,2,10,0,2,10,0,3,17,0,3,17,0,3,17,0,3,17,0,5,17,0,5,17,0,5,20,0,5,20,0,5,20,0,6,17,1,6,17,1,5,17,0,5,14,0,5,14,0,3,12,0,2,10,0,2,8,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,4,0,0,4,0,1,6,0,1,6,0,1,8,0,1,8,0,5,29,0,2,12,0,2,12,0,2,14,0,5,20,0,5,17,0,5,17,0,5,20,0,5,20,0,5,20,0,5,20,0,5,20,0,7,21,1,6,17,1,5,17,0,5,14,0,3,12,0,2,10,0,2,8,0,0,0,0,0,2,0,0,2,0,0,2,0,0,2,0,0,4,0,1,6,0,7,54,0,13,69,3,12,76,0,17,84,0,12,59,0,3,17,0,2,14,0,5,20,0,22,75,1,32,100,1,36,103,2,22,75,1,9,33,0,9,28,1,9,25,1,9,25,1,11,33,1,13,37,2,13,37,2,11,33,1,5,14,0,3,12,0,2,10,0,0,0,0,0,2,0,0,2,0,0,2,0,0,4,0,0,4,0,4,41,0,22,92,6,28,108,11,18,93,4,17,92,0,12,76,0,3,21,0,3,17,0,17,76,0,49,127,12,50,127,2,52,127,0,48,127,2,31,92,3,24,66,4,21,60,3,29,83,4,42,118,6,59,127,11,64,127,26,59,127,18,10,29,1,5,14,0,3,12,0,0,0,0,0,2,0,3,26,0,0,4,0,0,2,0,1,6,0,4,41,0,12,76,0,17,92,0,12,59,0,3,26,0,3,21,0,3,17,0,3,21,0,17,67,0,49,127,7,41,118,3,41,118,3,59,127,11,78,127,26,79,127,31,75,127,23,70,127,12,75,127,12,82,127,36,82,127,39,82,127,29,68,127,8,10,29,1,5,14,0,0,0,0,4,34,0,4,41,0,1,8,0,0,2,0,0,4,0,1,8,0,4,34,0,13,91,0,7,54,0,3,21,0,3,17,0,7,35,0,22,83,0,32,108,1,42,127,0,42,118,6,59,127,11,65,127,12,82,127,34,79,127,29,75,127,17,74,127,8,77,127,8,82,127,24,82,127,26,82,127,36,82,127,32,13,37,2,5,14,0,1,16,0,4,34,0,3,26,0,1,6,0,0,2,0,1,6,0,4,41,0,7,43,0,4,34,0,12,67,0,12,76,0,7,35,0,17,84,0,27,109,0,17,76,0,32,108,1,49,127,7,75,127,23,75,127,23,75,127,23,82,127,34,79,127,31,79,127,29,79,127,21,82,127,29,82,127,34,82,127,38,79,127,31,13,37,2,5,14,0,0,2,0,0,2,0,1,8,0,0,2,0,0,4,0,1,6,0,1,12,0,2,12,0,1,8,0,3,14,0,5,29,0,3,21,0,12,51,0,12,59,0,5,25,0,13,46,0,27,84,1,36,103,2,54,127,7,75,127,23,70,127,22,42,118,6,42,118,6,60,127,6,77,127,30,82,127,38,77,127,30,35,91,10,11,33,1,3,12,0,0,0,0,0,2,0,0,2,0,0,4,0,2,14,0,1,8,0,2,12,0,1,8,0,1,6,0,1,6,0,2,12,0,17,84,0,24,114,0,12,59,0,5,17,0,5,17,0,5,25,0,8,29,0,14,45,1,27,76,4,21,60,3,13,37,2,13,34,2,13,41,2,13,41,2,19,51,4,13,41,2,9,25,1,5,14,0,3,12,0,0,0,0,1,8,0,3,26,0,1,8,0,0,4,0,1,6,0,1,6,0,1,8,0,1,6,0,1,6,0,7,35,0,17,92,0,17,92,0,5,25,0,2,14,0,3,17,0,5,17,0,5,20,0,5,25,0,7,25,0,7,25,0,7,21,1,7,21,1,9,25,1,9,28,1,7,21,2,7,18,2,5,14,0,3,12,0,2,10,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,4,0,1,6,0,1,6,0,1,8,0,1,6,0,1,6,0,3,17,0,3,21,0,3,17,0,3,17,0,3,17,0,3,17,0,5,17,0,5,17,0,5,20,0,5,20,0,5,20,0,6,17,1,6,17,1,5,17,0,5,14,0,5,14,0,3,12,0,2,10,0,2,8,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,4,0,0,4,0,1,6,0,1,6,0,1,8,0,1,8,0,5,29,0,2,12,0,5,25,0,5,25,0,5,20,0,5,17,0,5,17,0,5,20,0,5,20,0,5,20,0,5,17,0,5,20,0,5,17,0,6,17,1,5,17,0,5,14,0,3,10,0,2,10,0,2,8,0,0,0,0,0,2,0,0,2,0,0,2,0,0,2,0,0,4,0,1,6,0,1,6,0,1,6,0,1,8,0,1,8,0,7,35,0,23,92,0,27,109,0,17,67,0,7,25,0,8,29,0,9,33,0,9,33,0,9,33,0,7,25,0,7,21,1,7,21,1,7,21,1,7,21,1,9,25,1,7,25,0,5,14,0,3,10,0,2,10,0,0,0,0,0,2,0,0,2,0,0,2,0,0,4,0,7,54,0,4,34,0,1,8,0,1,6,0,1,8,0,2,12,0,18,84,5,33,124,8,28,115,0,10,41,0,22,75,1,42,108,12,59,127,18,49,127,7,34,98,4,16,53,2,13,37,2,13,37,2,13,41,2,35,91,10,59,127,18,54,127,7,10,29,1,5,14,0,3,12,0,0,0,0,0,2,0,0,2,0,0,4,0,7,54,0,14,81,3,12,67,0,4,41,0,1,12,0,1,8,0,2,10,0,10,46,0,27,109,0,32,122,0,17,59,1,42,108,12,71,127,26,60,127,6,58,127,3,61,127,3,58,127,3,59,127,11,65,127,22,71,127,26,75,127,17,74,127,5,71,127,5,64,127,5,10,29,1,3,12,0,3,21,0,1,12,0,0,2,0,0,2,0,4,34,0,7,54,0,12,59,0,7,54,0,3,17,0,2,10,0,3,17,0,17,76,0,28,115,0,32,116,0,39,115,5,49,127,12,75,127,27,75,127,27,75,127,23,66,127,9,68,127,8,79,127,29,82,127,34,82,127,29,79,127,29,79,127,31,79,127,29,79,127,24,13,37,2,5,14,0,3,26,0,1,16,0,0,2,0,1,6,0,0,2,0,1,6,0,1,8,0,1,8,0,1,8,0,1,8,0,2,12,0,5,25,0,12,51,0,28,100,0,49,127,12,65,127,22,54,127,7,65,127,12,65,127,17,70,127,17,70,127,22,70,127,22,78,127,26,82,127,34,82,127,29,82,127,34,82,127,26,65,127,12,18,54,2,5,14,0,0,2,0,0,2,0,1,8,0,0,2,0,0,4,0,1,6,0,1,12,0,1,6,0,1,8,0,1,8,0,2,14,0,2,14,0,5,20,0,22,83,0,37,122,2,45,127,0,50,127,2,48,127,2,34,98,4,25,71,2,24,66,4,35,91,10,35,91,10,42,108,12,42,108,12,42,108,12,42,108,12,24,66,4,7,21,1,3,12,0,0,0,0,0,2,0,0,2,0,0,4,0,2,14,0,1,8,0,2,12,0,1,8,0,1,6,0,1,6,0,12,76,0,7,43,0,3,17,0,5,17,0,7,35,0,12,51,0,17,59,1,11,40,1,9,33,0,7,25,0,7,25,0,9,25,1,10,29,1,10,29,1,11,33,1,11,33,1,9,25,1,6,17,1,5,14,0,3,12,0,0,0,0,1,8,0,3,26,0,1,8,0,0,4,0,1,6,0,1,6,0,0,4,0,1,6,0,4,41,0,17,92,0,12,67,0,3,17,0,2,12,0,2,14,0,3,17,0,5,17,0,5,20,0,5,25,0,7,25,0,5,20,0,7,21,1,7,21,1,6,17,1,9,28,1,7,21,2,7,18,2,5,14,0,3,12,0,2,10,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,4,0,1,6,0,1,6,0,1,8,0,1,6,0,2,14,0,3,17,0,2,10,0,3,17,0,3,17,0,3,17,0,3,17,0,5,17,0,5,17,0,5,20,0,5,20,0,5,20,0,6,17,1,6,17,1,5,17,0,5,14,0,5,14,0,3,12,0,2,10,0,2,8,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,4,0,0,4,0,1,6,0,1,6,0,1,8,0,1,8,0,5,29,0,2,10,0,2,12,0,5,25,0,5,20,0,3,14,0,3,17,0,3,17,0,5,17,0,5,20,0,5,17,0,5,20,0,5,17,0,5,14,0,5,17,0,5,14,0,3,10,0,2,10,0,2,8,0,0,0,0,0,2,0,0,2,0,0,2,0,0,2,0,0,4,0,1,6,0,1,6,0,1,6,0,7,43,0,12,59,0,3,21,0,2,12,0,3,17,0,5,25,0,10,37,0,8,29,0,5,20,0,5,20,0,5,20,0,7,25,0,11,33,1,18,50,1,11,37,1,7,21,1,9,25,1,7,25,0,5,14,0,3,10,0,2,10,0,0,0,0,0,2,0,0,2,0,0,2,0,1,4,0,1,4,0,1,4,0,1,8,0,4,34,0,18,93,4,17,92,0,5,29,0,3,17,0,12,59,0,37,110,2,42,122,1,38,115,1,22,75,1,13,46,0,11,37,1,16,48,2,36,103,2,50,127,2,41,118,3,29,83,4,37,101,6,35,91,10,10,29,1,5,14,0,3,12,0,0,0,0,0,2,0,0,2,0,4,34,0,2,14,0,1,8,0,1,6,0,1,6,0,3,21,0,17,84,0,22,101,0,17,76,0,5,25,0,26,101,8,54,127,17,48,127,2,50,127,2,53,127,2,65,127,17,59,127,18,42,108,12,35,91,10,42,108,12,66,127,9,69,127,5,74,127,5,79,127,21,75,127,27,10,29,1,3,12,0,0,4,0,0,2,0,7,43,0,12,67,0,7,54,0,3,26,0,1,6,0,1,6,0,7,35,0,13,83,0,12,59,0,10,46,0,5,29,0,16,53,2,49,127,18,65,127,22,59,127,11,54,127,7,70,127,17,79,127,31,82,127,34,77,127,30,75,127,23,77,127,8,78,127,13,78,127,18,82,127,29,82,127,34,42,108,12,5,14,0,1,12,0,0,2,0,0,2,0,4,34,0,1,20,0,1,6,0,1,6,0,1,6,0,1,8,0,7,35,0,18,84,5,27,109,6,17,84,0,17,59,1,37,122,2,49,127,12,50,127,2,53,127,2,44,123,5,27,76,4,35,91,10,59,127,18,79,127,29,82,127,36,82,127,29,79,127,21,78,127,18,70,127,17,18,54,2,5,14,0,0,2,0,0,2,0,1,8,0,0,2,0,0,4,0,1,6,0,1,12,0,1,6,0,1,8,0,1,8,0,13,69,3,27,109,6,32,116,0,32,116,0,23,92,0,13,46,0,22,68,2,27,84,1,22,68,2,13,41,1,31,92,3,42,118,6,65,127,17,79,127,29,82,127,29,79,127,21,70,127,12,38,109,6,7,21,1,3,12,0,0,0,0,0,2,0,0,2,0,0,4,0,2,14,0,1,8,0,2,12,0,1,8,0,1,6,0,1,6,0,2,14,0,7,35,0,12,59,0,7,43,0,5,25,0,5,20,0,5,20,0,5,20,0,5,20,0,7,21,1,7,25,0,9,25,1,21,60,3,26,71,5,24,66,4,27,76,4,21,60,3,6,17,1,5,14,0,3,12,0,0,0,0,1,8,0,3,26,0,1,8,0,0,4,0,1,6,0,1,6,0,0,4,0,7,43,0,17,84,0,10,46,0,2,12,0,2,10,0,2,12,0,2,14,0,3,14,0,3,17,0,3,17,0,5,17,0,5,17,0,5,17,0,6,17,1,6,17,1,6,17,1,9,28,1,7,21,2,7,18,2,5,14,0,3,12,0,2,10,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,4,0,1,6,0,1,6,0,1,8,0,3,21,0,2,14,0,1,8,0,2,10,0,2,10,0,2,10,0,2,12,0,2,12,0,2,12,0,3,14,0,3,14,0,3,14,0,3,14,0,6,17,1,6,17,1,5,17,0,5,14,0,5,14,0,3,12,0,2,10,0,2,8,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,4,0,0,4,0,1,6,0,1,6,0,1,8,0,1,8,0,5,29,0,2,10,0,2,12,0,5,25,0,5,20,0,3,14,0,3,17,0,3,17,0,5,17,0,5,20,0,5,17,0,5,20,0,5,17,0,5,14,0,5,17,0,5,14,0,3,10,0,2,10,0,2,8,0,0,0,0,0,2,0,0,2,0,0,2,0,0,2,0,0,4,0,1,6,0,1,6,0,1,6,0,1,8,0,1,8,0,3,21,0,7,35,0,12,51,0,7,35,0,10,37,0,8,29,0,5,20,0,5,20,0,26,77,2,32,100,1,13,41,1,6,17,1,11,37,1,7,21,1,9,25,1,7,25,0,5,14,0,3,10,0,2,10,0,0,0,0,0,2,0,0,2,0,0,2,0,1,4,0,1,4,0,1,4,0,4,41,0,3,21,0,2,10,0,2,10,0,17,59,1,36,123,14,37,122,2,27,109,0,9,33,0,22,68,2,31,92,3,22,68,2,22,68,2,27,92,1,9,28,1,7,25,0,9,25,1,29,83,4,37,101,6,35,91,10,10,29,1,5,14,0,3,12,0,0,0,0,0,2,0,0,2,0,0,2,0,2,14,0,1,8,0,4,34,0,13,83,0,12,59,0,3,21,0,3,17,0,28,108,11,43,127,12,39,123,0,39,123,0,27,92,1,17,59,1,37,110,2,50,127,1,41,118,3,29,83,4,25,71,2,29,83,4,37,101,6,59,127,11,71,127,26,42,108,12,75,127,27,10,29,1,3,12,0,0,4,0,1,16,0,0,4,0,0,2,0,0,2,0,1,12,0,7,54,0,8,67,0,12,59,0,7,35,0,3,17,0,21,86,7,49,127,18,37,122,2,27,92,1,32,108,1,36,103,2,59,127,18,65,127,12,61,127,3,64,127,3,64,127,3,66,127,5,71,127,5,82,127,24,82,127,38,82,127,36,59,127,11,42,108,12,5,14,0,4,34,0,4,41,0,1,12,0,0,2,0,0,2,0,1,6,0,3,26,0,3,26,0,18,84,5,17,92,0,7,35,0,5,17,0,10,46,0,17,76,0,9,33,0,8,29,0,9,33,0,29,83,4,71,127,26,75,127,23,75,127,17,82,127,26,79,127,21,78,127,16,78,127,16,82,127,24,78,127,18,65,127,17,18,54,2,5,14,0,0,2,0,1,8,0,1,8,0,0,2,0,0,4,0,1,6,0,1,12,0,7,43,0,18,93,4,17,92,0,17,76,0,5,25,0,17,67,0,12,51,0,8,29,0,22,83,0,32,100,1,37,110,2,53,127,2,64,127,5,75,127,23,82,127,29,70,127,17,69,127,5,71,127,3,71,127,3,75,127,17,38,109,6,7,21,1,3,12,0,0,0,0,0,2,0,0,2,0,0,4,0,2,14,0,1,8,0,2,12,0,1,8,0,5,29,0,3,26,0,3,21,0,2,12,0,3,14,0,3,17,0,5,17,0,13,46,0,27,84,1,32,100,1,34,98,4,38,109,6,37,101,6,27,76,4,27,76,4,35,91,10,31,92,3,34,98,4,24,66,4,6,17,1,5,14,0,3,12,0,0,0,0,1,8,0,3,26,0,1,8,0,0,4,0,1,6,0,1,6,0,0,4,0,3,21,0,1,8,0,1,8,0,1,8,0,2,10,0,2,12,0,2,12,0,3,14,0,3,17,0,3,17,0,7,25,0,9,28,1,5,17,0,6,17,1,7,21,1,7,21,1,7,21,1,7,21,1,7,18,2,5,14,0,3,12,0,2,10,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,4,0,1,6,0,7,43,0,7,54,0,2,10,0,1,6,0,1,8,0,1,8,0,2,10,0,2,10,0,2,12,0,2,12,0,2,12,0,3,14,0,3,14,0,3,14,0,3,14,0,6,17,1,6,17,1,5,17,0,5,14,0,5,14,0,3,12,0,2,10,0,2,8,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,4,0,0,4,0,1,6,0,1,6,0,1,8,0,1,8,0,5,29,0,2,10,0,2,12,0,5,25,0,5,20,0,3,14,0,3,17,0,16,49,1,22,68,2,5,20,0,5,17,0,5,20,0,5,17,0,5,14,0,5,17,0,5,14,0,3,10,0,2,10,0,2,8,0,0,0,0,0,2,0,0,2,0,0,2,0,0,2,0,0,4,0,1,6,0,1,6,0,1,6,0,1,8,0,7,43,0,12,51,0,10,46,0,5,20,0,14,54,0,27,92,1,14,54,0,5,20,0,17,59,1,26,77,2,7,25,0,5,20,0,6,17,1,11,37,1,7,21,1,9,25,1,7,25,0,5,14,0,3,10,0,2,10,0,0,0,0,0,2,0,0,2,0,0,2,0,1,4,0,1,4,0,1,8,0,1,8,0,1,6,0,7,43,0,30,115,11,32,117,6,32,116,0,17,76,0,17,76,0,17,59,1,13,46,0,26,77,2,26,77,2,13,41,1,10,29,1,13,37,1,29,83,4,37,101,6,34,98,4,29,83,4,15,44,2,10,29,1,5,14,0,3,12,0,0,0,0,0,2,0,0,2,0,0,2,0,2,14,0,4,41,0,8,67,0,7,43,0,2,10,0,7,35,0,17,84,0,17,76,0,23,92,0,17,76,0,39,127,8,54,127,12,41,118,3,50,127,2,65,127,12,59,127,18,42,108,12,42,108,12,64,127,3,74,127,8,79,127,24,79,127,21,78,127,26,29,83,4,10,29,1,3,12,0,3,26,0,1,8,0,0,2,0,0,2,0,0,2,0,4,34,0,10,61,3,12,67,0,4,34,0,2,12,0,3,21,0,3,17,0,5,20,0,8,29,0,22,83,0,35,91,10,34,98,4,54,127,7,70,127,17,75,127,23,64,127,3,69,127,5,74,127,8,78,127,18,82,127,24,82,127,18,75,127,12,53,127,2,42,108,12,5,14,0,3,26,0,1,8,0,0,2,0,0,2,0,0,2,0,3,21,0,12,67,0,12,76,0,4,34,0,2,10,0,2,10,0,7,35,0,17,84,0,23,92,0,27,84,1,42,108,12,65,127,22,70,127,22,65,127,17,75,127,23,75,127,23,75,127,23,79,127,29,78,127,18,82,127,34,82,127,26,70,127,12,37,101,6,18,54,2,5,14,0,0,2,0,1,8,0,1,8,0,0,2,0,0,4,0,1,6,0,1,12,0,1,16,0,1,8,0,1,8,0,1,8,0,7,35,0,12,51,0,22,75,1,37,122,0,48,127,2,48,127,0,55,127,2,53,127,2,29,83,4,29,83,4,31,92,3,37,101,6,70,127,22,75,127,27,71,127,26,59,127,18,38,109,6,7,21,1,3,12,0,0,0,0,0,2,0,0,2,0,0,4,0,2,14,0,1,8,0,2,12,0,1,8,0,1,6,0,1,6,0,3,21,0,2,12,0,3,14,0,3,17,0,8,29,0,11,45,1,22,75,1,36,103,2,32,100,1,11,37,1,9,28,1,27,76,4,27,76,4,11,33,1,13,34,2,11,33,1,24,66,4,6,17,1,5,14,0,3,12,0,0,0,0,1,8,0,3,26,0,1,8,0,0,4,0,1,6,0,1,6,0,4,34,0,1,8,0,1,6,0,1,8,0,1,8,0,2,10,0,2,12,0,2,12,0,3,14,0,3,17,0,5,25,0,7,25,0,9,28,1,5,17,0,6,17,1,7,21,1,7,21,1,7,21,1,7,21,1,7,18,2,5,14,0,3,12,0,2,10,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,4,0,1,6,0,4,34,0,1,6,0,2,10,0,1,6,0,1,8,0,1,8,0,2,10,0,2,10,0,2,12,0,2,12,0,2,12,0,3,14,0,3,14,0,3,14,0,3,14,0,6,17,1,6,17,1,5,17,0,5,14,0,5,14,0,3,12,0,2,10,0,2,8,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,4,0,0,4,0,1,6,0,1,6,0,1,8,0,1,8,0,5,29,0,2,10,0,2,12,0,5,25,0,10,37,0,3,14,0,3,17,0,17,59,1,22,75,1,5,20,0,5,17,0,5,20,0,5,17,0,5,14,0,5,17,0,5,14,0,3,10,0,2,10,0,2,8,0,0,0,0,0,2,0,0,2,0,0,2,0,0,2,0,0,4,0,1,6,0,1,6,0,1,6,0,3,17,0,7,43,0,2,10,0,2,10,0,3,14,0,17,59,1,14,54,0,5,20,0,5,20,0,11,40,1,13,41,1,9,28,1,10,29,1,10,29,1,9,25,1,7,21,1,9,25,1,7,25,0,5,14,0,3,10,0,2,10,0,0,0,0,0,2,0,0,2,0,0,2,0,1,4,0,1,4,0,1,8,0,1,8,0,7,54,0,22,92,6,17,84,0,3,21,0,3,17,0,5,25,0,5,20,0,7,25,0,17,59,1,22,68,2,11,33,1,13,41,1,31,92,3,42,118,6,42,108,12,35,91,10,16,48,2,13,34,2,11,33,1,10,29,1,5,14,0,3,12,0,0,0,0,0,2,0,0,2,0,0,2,0,2,14,0,4,41,0,2,10,0,1,6,0,7,43,0,14,81,3,12,67,0,7,35,0,17,76,0,27,109,0,10,41,0,17,59,1,49,127,12,65,127,17,37,101,6,42,118,6,65,127,12,79,127,31,82,127,36,82,127,32,70,127,17,60,127,6,58,127,3,42,108,12,10,29,1,3,12,0,0,2,0,0,0,0,0,2,0,0,2,0,0,2,0,4,41,0,4,41,0,1,12,0,1,6,0,3,17,0,7,35,0,7,35,0,12,51,0,27,92,1,22,75,1,22,75,1,54,127,12,65,127,17,75,127,23,75,127,23,75,127,23,79,127,24,78,127,18,77,127,8,77,127,5,74,127,5,78,127,18,78,127,26,29,83,4,5,14,0,0,4,0,0,0,0,0,2,0,0,2,0,0,2,0,7,54,0,7,54,0,1,12,0,1,16,0,12,76,0,24,107,5,32,117,6,23,92,0,27,84,1,42,108,12,54,127,12,54,127,7,41,118,3,53,127,2,61,127,3,64,127,3,71,127,5,78,127,18,82,127,26,82,127,26,78,127,18,82,127,29,75,127,23,19,57,3,5,14,0,0,2,0,1,8,0,1,8,0,0,2,0,0,4,0,1,6,0,1,8,0,1,6,0,1,8,0,7,35,0,17,84,0,22,101,0,17,76,0,22,83,0,32,108,1,48,127,0,48,127,0,36,103,2,36,103,2,38,109,6,44,123,5,61,127,3,70,127,17,75,127,27,71,127,26,70,127,17,60,127,6,42,108,12,7,21,1,3,12,0,0,0,0,0,2,0,0,2,0,0,4,0,2,14,0,1,8,0,2,12,0,1,8,0,1,6,0,1,6,0,3,21,0,3,21,0,3,21,0,3,17,0,8,29,0,27,92,1,27,92,1,13,41,1,7,25,0,8,29,0,9,28,1,16,53,2,18,54,2,15,44,2,13,41,2,13,37,2,24,66,4,6,17,1,5,14,0,3,12,0,0,0,0,1,8,0,3,26,0,1,8,0,0,4,0,1,6,0,1,6,0,4,34,0,1,8,0,1,6,0,1,8,0,1,8,0,2,10,0,2,12,0,2,12,0,5,20,0,3,17,0,5,20,0,5,20,0,5,20,0,5,17,0,6,17,1,7,21,1,7,21,1,7,21,1,7,21,1,7,18,2,5,14,0,3,12,0,2,10,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,4,0,4,34,0,4,41,0,1,6,0,2,10,0,1,6,0,1,8,0,1,8,0,2,10,0,2,10,0,2,12,0,2,12,0,2,12,0,3,14,0,3,14,0,3,14,0,3,14,0,6,17,1,6,17,1,5,17,0,5,14,0,5,14,0,3,12,0,2,10,0,2,8,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,4,0,0,4,0,0,2,0,0,2,0,1,8,0,1,8,0,5,29,0,2,10,0,2,12,0,5,25,0,10,37,0,3,14,0,3,17,0,16,49,1,14,45,1,5,17,0,5,17,0,5,20,0,5,17,0,5,14,0,5,17,0,5,14,0,3,10,0,2,10,0,2,8,0,0,0,0,0,2,0,0,2,0,0,2,0,0,2,0,0,4,0,0,2,0,1,6,0,1,6,0,3,17,0,1,8,0,2,10,0,2,10,0,3,14,0,14,54,0,5,25,0,5,20,0,9,33,0,13,41,1,11,37,1,7,21,1,5,20,0,5,20,0,5,20,0,7,21,1,9,25,1,7,25,0,5,14,0,3,10,0,2,10,0,0,0,0,0,2,0,0,2,0,0,2,0,1,4,0,1,4,0,1,8,0,1,8,0,12,67,0,12,67,0,2,14,0,2,8,0,2,10,0,2,12,0,5,17,0,10,37,0,27,92,1,42,122,3,54,127,12,42,118,6,26,77,2,11,40,1,11,33,1,11,33,1,13,41,2,16,44,4,13,41,2,10,29,1,5,14,0,3,12,0,0,0,0,0,2,0,0,2,0,0,2,0,2,14,0,4,41,0,1,4,0,1,6,0,5,29,0,7,43,0,2,12,0,1,8,0,2,10,0,5,20,0,22,83,0,28,100,0,14,45,1,42,108,12,79,127,29,75,127,23,64,127,8,44,123,5,42,118,6,59,127,11,71,127,26,79,127,31,70,127,22,37,101,6,10,29,1,3,12,0,0,2,0,0,0,0,0,2,0,0,2,0,3,26,0,3,26,0,1,8,0,1,12,0,2,12,0,2,10,0,1,8,0,2,10,0,2,12,0,17,67,0,49,127,18,44,127,7,31,92,3,43,117,11,65,127,17,66,127,9,64,127,3,61,127,3,66,127,5,78,127,16,82,127,29,82,127,34,79,127,29,68,127,8,34,98,4,5,14,0,0,4,0,0,0,0,0,2,0,0,2,0,0,2,0,4,41,0,3,26,0,12,59,0,18,84,5,12,59,0,7,35,0,5,29,0,5,17,0,22,83,0,38,109,6,27,92,1,27,84,1,54,127,7,77,127,30,78,127,26,78,127,26,75,127,23,79,127,21,79,127,24,82,127,32,82,127,29,82,127,38,79,127,24,31,92,3,5,14,0,0,2,0,1,8,0,1,8,0,0,2,0,0,4,0,1,6,0,1,12,0,7,43,0,17,84,0,13,83,0,12,51,0,12,59,0,12,59,0,27,109,0,28,100,0,39,127,0,37,110,2,42,122,1,53,127,2,59,127,11,65,127,22,55,127,23,42,108,12,65,127,17,75,127,17,79,127,24,79,127,31,59,127,18,7,21,1,3,12,0,0,0,0,0,2,0,0,2,0,0,4,0,2,14,0,1,8,0,2,12,0,1,8,0,1,6,0,3,17,0,2,10,0,2,10,0,5,29,0,10,46,0,17,59,1,22,75,1,13,46,0,9,33,0,14,45,1,8,29,0,11,33,1,10,29,1,10,29,1,21,60,3,42,108,12,29,83,4,24,66,4,6,17,1,5,14,0,3,12,0,0,0,0,1,8,0,3,26,0,1,8,0,0,4,0,1,6,0,1,6,0,0,4,0,1,8,0,1,6,0,1,8,0,1,8,0,2,10,0,2,12,0,3,14,0,3,17,0,3,17,0,5,17,0,5,20,0,5,20,0,5,17,0,6,17,1,7,21,2,7,21,1,7,21,1,7,21,1,7,18,2,5,14,0,3,12,0,2,10,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,2,0,3,21,0,1,12,0,0,4,0,2,10,0,1,6,0,1,8,0,1,8,0,2,10,0,2,10,0,2,12,0,2,12,0,2,12,0,3,14,0,3,14,0,3,14,0,3,14,0,6,17,1,6,17,1,5,17,0,5,14,0,5,14,0,3,12,0,2,10,0,2,8,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,4,0,0,4,0,0,2,0,0,2,0,1,8,0,1,8,0,5,29,0,2,10,0,2,12,0,17,59,1,17,67,0,9,33,0,5,20,0,5,20,0,5,17,0,5,17,0,5,17,0,5,20,0,5,17,0,5,14,0,5,17,0,5,14,0,3,10,0,2,10,0,2,8,0,0,0,0,0,2,0,0,2,0,0,2,0,0,2,0,0,4,0,0,2,0,1,6,0,1,6,0,3,17,0,1,8,0,2,10,0,2,10,0,12,51,0,32,122,0,39,127,0,32,100,1,22,68,2,21,60,3,9,33,0,7,21,1,11,33,1,11,37,1,11,33,1,9,25,1,9,25,1,7,25,0,5,14,0,3,10,0,2,10,0,0,0,0,0,2,0,0,2,0,0,2,0,1,4,0,1,4,0,1,8,0,1,8,0,7,43,0,3,26,0,1,6,0,2,8,0,2,10,0,8,29,0,14,54,0,22,83,0,59,127,18,70,127,22,59,127,11,37,110,2,34,98,4,59,127,11,65,127,17,42,118,6,31,92,3,13,41,2,10,29,1,9,25,1,5,14,0,3,12,0,0,0,0,0,2,0,0,2,0,0,2,0,2,14,0,0,2,0,1,4,0,1,6,0,1,6,0,1,6,0,1,6,0,1,8,0,2,10,0,17,67,0,17,76,0,13,46,0,43,117,11,54,127,7,58,127,3,50,127,2,29,83,4,42,108,12,79,127,31,82,127,26,75,127,17,64,127,5,60,127,6,37,101,6,10,29,1,3,12,0,0,2,0,0,0,0,0,2,0,0,2,0,3,26,0,3,26,0,1,6,0,1,12,0,1,8,0,1,6,0,1,8,0,2,10,0,14,54,0,32,117,6,28,100,0,17,59,1,43,117,11,65,127,17,58,127,3,58,127,3,42,108,12,59,127,18,82,127,36,82,127,32,78,127,26,77,127,8,75,127,12,79,127,21,27,76,4,5,14,0,0,4,0,0,0,0,0,2,0,0,2,0,0,2,0,4,41,0,7,54,0,14,81,3,7,54,0,2,14,0,1,6,0,1,8,0,7,35,0,14,54,0,14,54,0,9,33,0,34,107,5,65,127,17,65,127,17,43,117,11,65,127,17,79,127,24,75,127,12,78,127,18,82,127,32,82,127,24,75,127,12,70,127,12,25,71,2,5,14,0,0,2,0,1,8,0,1,8,0,0,2,0,0,4,0,1,6,0,1,12,0,4,41,0,5,29,0,1,8,0,1,6,0,3,17,0,17,67,0,23,92,0,27,109,0,17,67,0,27,92,1,37,110,2,31,92,3,22,68,2,44,123,5,59,127,18,65,127,12,66,127,5,65,127,12,65,127,22,65,127,22,29,83,4,7,21,1,3,12,0,0,0,0,0,2,0,0,2,0,0,4,0,2,14,0,1,8,0,2,12,0,1,8,0,1,6,0,3,17,0,0,4,0,2,10,0,5,29,0,10,46,0,17,59,1,5,17,0,5,20,0,9,33,0,14,45,1,7,25,0,11,33,1,13,34,1,13,41,2,18,50,3,13,41,2,13,34,2,11,33,1,6,17,1,5,14,0,3,12,0,0,0,0,1,8,0,3,26,0,1,8,0,0,4,0,1,6,0,1,6,0,0,2,0,1,8,0,1,6,0,0,4,0,1,8,0,2,10,0,2,12,0,3,14,0,3,17,0,3,17,0,5,17,0,5,20,0,5,20,0,5,17,0,6,17,1,7,21,2,7,21,1,7,21,1,7,21,1,7,18,2,5,14,0,3,12,0,2,10,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,0,0,0,0,0,0,2,0,0,4,0,2,10,0,1,6,0,1,8,0,1,8,0,1,6,0,1,6,0,2,8,0,2,12,0,2,12,0,3,14,0,3,14,0,3,14,0,3,14,0,6,17,1,6,17,1,5,17,0,5,14,0,5,14,0,3,12,0,2,10,0,2,8,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,4,0,0,4,0,0,2,0,0,2,0,1,8,0,1,8,0,10,37,0,22,101,0,23,92,0,8,29,0,3,14,0,3,14,0,3,14,0,5,17,0,5,17,0,5,17,0,5,17,0,5,20,0,5,17,0,5,14,0,5,17,0,5,14,0,3,10,0,2,10,0,2,8,0,0,0,0,0,2,0,0,2,0,0,2,0,0,2,0,0,4,0,0,2,0,1,6,0,7,43,0,3,17,0,1,8,0,3,17,0,12,59,0,22,83,0,22,83,0,17,59,1,5,20,0,5,17,0,5,20,0,7,25,0,7,21,1,7,21,1,7,21,1,5,20,0,6,17,1,9,25,1,7,25,0,5,14,0,3,10,0,2,10,0,0,0,0,0,2,0,0,2,0,0,2,0,1,4,0,1,4,0,1,8,0,1,8,0,5,29,0,2,12,0,1,6,0,10,37,0,32,117,6,43,127,12,37,127,0,17,67,0,8,29,0,21,60,3,27,84,1,38,109,6,36,103,2,16,53,2,13,41,2,13,37,2,15,44,2,27,76,4,25,71,2,13,34,1,5,14,0,3,12,0,0,0,0,0,2,0,0,2,0,0,2,0,2,14,0,0,2,0,1,4,0,1,6,0,1,6,0,1,6,0,1,6,0,7,35,0,32,112,14,43,127,12,28,100,0,10,37,0,13,41,1,22,68,2,35,91,10,42,108,12,59,127,18,75,127,27,65,127,17,64,127,8,64,127,3,66,127,3,68,127,8,59,127,11,10,29,1,3,12,0,0,2,0,0,0,0,0,2,0,0,2,0,1,16,0,1,8,0,1,6,0,0,4,0,0,4,0,1,6,0,1,8,0,2,10,0,10,46,0,27,109,0,32,116,0,17,67,0,32,116,0,42,122,1,37,101,6,54,127,17,79,127,29,75,127,17,75,127,12,75,127,12,77,127,5,77,127,8,82,127,26,75,127,17,27,76,4,5,14,0,0,4,0,0,0,0,0,2,0,0,2,0,0,2,0,4,41,0,7,54,0,1,20,0,0,4,0,1,6,0,1,6,0,1,8,0,10,46,0,38,109,6,49,127,12,28,100,0,22,75,1,54,127,12,75,127,23,65,127,17,66,127,5,75,127,12,82,127,29,82,127,32,82,127,16,82,127,32,82,127,38,79,127,29,37,101,6,5,14,0,0,2,0,1,8,0,1,8,0,0,2,0,0,4,0,1,6,0,4,34,0,1,12,0,0,4,0,1,4,0,1,6,0,3,17,0,10,46,0,27,109,0,32,108,1,17,59,1,32,108,1,54,127,7,65,127,12,58,127,3,64,127,3,66,127,3,75,127,17,82,127,34,79,127,29,79,127,29,75,127,23,54,127,7,7,21,1,3,12,0,0,0,0,0,2,0,0,2,0,0,4,0,2,14,0,1,8,0,2,12,0,1,8,0,1,6,0,3,17,0,0,4,0,2,10,0,5,29,0,10,46,0,17,59,1,10,37,0,22,83,0,17,59,1,22,68,2,36,103,2,38,109,6,34,98,4,25,71,2,21,60,3,21,60,3,21,60,3,18,50,3,13,37,2,5,14,0,3,12,0,0,0,0,1,8,0,3,26,0,1,8,0,0,4,0,1,6,0,1,6,0,0,2,0,1,8,0,1,6,0,0,4,0,1,8,0,2,10,0,2,12,0,3,14,0,3,17,0,3,17,0,5,20,0,5,20,0,7,25,0,9,28,1,9,28,1,7,21,2,7,21,1,7,21,1,7,21,1,7,18,2,5,14,0,3,12,0,2,10,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,0,0,0,0,0,0,2,0,0,4,0,2,10,0,1,6,0,1,8,0,1,8,0,1,6,0,1,6,0,2,8,0,2,12,0,2,12,0,3,14,0,3,14,0,3,14,0,3,14,0,6,17,1,6,17,1,5,17,0,5,14,0,5,14,0,3,12,0,2,10,0,2,8,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,4,0,0,4,0,0,2,0,0,2,0,1,8,0,2,12,0,2,14,0,2,14,0,2,12,0,3,14,0,3,14,0,5,25,0,3,14,0,5,17,0,5,17,0,9,25,1,9,28,1,9,25,1,7,25,0,7,21,1,5,17,0,5,14,0,3,10,0,2,10,0,2,8,0,0,0,0,0,2,0,0,2,0,0,2,0,0,2,0,0,4,0,0,2,0,0,4,0,1,6,0,5,25,0,12,67,0,12,51,0,3,14,0,3,14,0,9,33,0,27,92,1,27,92,1,9,33,0,7,25,0,14,45,1,34,98,4,34,98,4,34,98,4,31,92,3,18,54,2,11,33,1,7,25,0,5,14,0,3,10,0,2,10,0,0,0,0,0,2,0,0,2,0,0,2,0,1,4,0,1,4,0,1,8,0,1,8,0,3,26,0,24,107,5,28,115,5,12,76,0,3,21,0,5,17,0,5,25,0,27,84,1,39,122,2,22,68,2,9,33,0,34,98,4,70,127,22,68,127,8,69,127,3,69,127,3,70,127,17,65,127,22,59,127,18,21,60,3,5,14,0,3,12,0,0,0,0,0,2,0,0,2,0,0,2,0,2,14,0,0,2,0,1,4,0,1,6,0,1,6,0,15,71,3,22,101,0,17,84,0,12,51,0,22,75,1,32,100,1,32,100,1,17,67,0,13,41,1,11,37,1,24,73,4,70,127,22,75,127,12,74,127,5,77,127,5,82,127,26,82,127,24,71,127,5,58,127,3,10,29,1,3,12,0,0,2,0,0,0,0,0,2,0,0,2,0,1,16,0,0,4,0,0,4,0,0,4,0,0,4,0,7,43,0,17,84,0,10,37,0,5,25,0,17,59,1,37,122,2,50,127,2,54,127,12,42,108,12,42,108,12,65,127,22,78,127,26,77,127,8,78,127,16,82,127,24,82,127,26,78,127,18,77,127,8,75,127,17,27,76,4,5,14,0,0,4,0,0,0,0,0,2,0,0,2,0,4,34,0,1,12,0,0,4,0,1,20,0,0,4,0,5,29,0,7,43,0,12,59,0,12,59,0,22,75,1,49,127,12,54,127,7,54,127,7,58,127,3,70,127,12,75,127,17,71,127,8,79,127,21,82,127,34,82,127,21,77,127,5,74,127,3,71,127,5,65,127,12,37,101,6,5,14,0,0,2,0,1,8,0,1,8,0,0,2,0,0,4,0,1,6,0,4,34,0,1,12,0,0,4,0,1,4,0,7,43,0,23,108,0,32,108,1,35,121,2,59,127,18,59,127,11,55,127,2,58,127,3,75,127,23,82,127,34,77,127,30,71,127,26,70,127,17,70,127,22,65,127,17,59,127,18,37,101,6,21,60,3,7,21,1,3,12,0,0,0,0,0,2,0,0,2,0,0,4,0,2,14,0,1,8,0,2,12,0,1,8,0,1,6,0,3,17,0,2,12,0,7,43,0,10,46,0,10,37,0,34,98,4,49,127,12,48,127,2,37,110,2,31,92,3,25,71,2,19,57,3,18,50,3,16,48,2,15,44,2,15,44,2,21,60,3,18,50,3,13,37,2,5,14,0,3,12,0,0,0,0,1,8,0,3,26,0,1,8,0,0,4,0,1,6,0,1,6,0,0,2,0,1,8,0,1,6,0,0,4,0,2,12,0,3,14,0,3,17,0,5,20,0,9,33,0,10,37,0,9,33,0,9,28,1,9,25,1,9,25,1,9,25,1,9,25,1,7,25,0,7,21,1,7,21,1,7,18,2,5,14,0,3,12,0,2,10,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,0,0,0,0,0,0,2,0,0,4,0,2,10,0,1,6,0,1,8,0,2,10,0,2,12,0,3,14,0,3,17,0,5,17,0,5,17,0,5,17,0,5,20,0,5,20,0,5,20,0,5,20,0,6,17,1,5,17,0,5,14,0,5,14,0,3,12,0,2,10,0,2,8,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,4,0,0,4,0,0,2,0,0,2,0,1,8,0,2,12,0,2,10,0,2,10,0,2,12,0,3,14,0,2,12,0,5,25,0,3,14,0,5,17,0,5,17,0,5,17,0,5,17,0,9,25,1,7,25,0,7,21,1,5,17,0,5,14,0,3,10,0,2,10,0,2,8,0,0,0,0,0,2,0,0,2,0,0,2,0,0,2,0,0,4,0,0,2,0,0,4,0,1,6,0,5,25,0,1,8,0,2,10,0,2,10,0,3,14,0,3,14,0,3,14,0,11,37,1,26,77,2,16,49,1,7,25,0,7,25,0,9,25,1,10,29,1,11,33,1,10,29,1,11,33,1,7,25,0,5,14,0,3,10,0,2,10,0,0,0,0,0,2,0,0,2,0,0,2,0,1,4,0,1,4,0,1,8,0,4,34,0,7,54,0,3,21,0,2,12,0,2,12,0,2,14,0,5,17,0,3,17,0,5,17,0,11,45,1,49,127,12,54,127,12,36,103,2,36,103,2,41,118,3,53,127,2,65,127,12,59,127,18,42,108,12,18,50,3,21,60,3,5,14,0,3,12,0,0,0,0,0,2,0,0,2,0,0,2,0,2,14,0,0,2,0,1,4,0,4,41,0,22,101,5,17,84,0,7,43,0,10,41,0,22,83,0,17,76,0,5,25,0,5,20,0,7,25,0,21,60,3,26,77,2,38,115,1,61,127,3,66,127,3,71,127,5,82,127,21,77,127,8,79,127,21,75,127,27,42,108,12,9,25,1,3,12,0,0,2,0,0,0,0,0,2,0,0,2,0,1,16,0,0,4,0,0,4,0,3,21,0,12,67,0,22,101,0,22,101,0,23,92,0,35,121,2,28,115,0,9,33,0,5,25,0,7,25,0,11,37,1,24,73,4,65,127,17,70,127,17,79,127,21,79,127,21,79,127,24,78,127,13,82,127,24,82,127,29,65,127,12,11,33,1,5,14,0,0,4,0,0,0,0,0,2,0,3,26,0,3,26,0,1,6,0,0,4,0,1,12,0,7,35,0,7,35,0,7,35,0,12,59,0,33,124,8,32,116,0,17,67,0,14,54,0,27,84,1,49,127,12,59,127,11,65,127,17,82,127,32,79,127,24,71,127,5,74,127,3,71,127,3,71,127,3,75,127,17,59,127,11,37,101,6,5,14,0,0,2,0,1,8,0,1,8,0,0,2,0,0,4,0,1,6,0,4,34,0,4,41,0,18,93,4,17,92,0,17,84,0,27,109,6,43,127,12,42,127,3,49,127,7,45,127,3,37,110,2,42,108,12,35,91,10,35,91,10,42,108,12,54,127,17,59,127,11,58,127,3,55,127,2,42,118,6,29,83,4,21,60,3,7,21,1,3,12,0,0,0,0,0,2,0,0,2,0,0,4,0,2,14,0,1,8,0,2,12,0,4,34,0,12,67,0,12,67,0,22,101,0,36,123,14,54,127,17,54,127,17,49,127,7,28,100,0,10,37,0,7,25,0,7,25,0,9,25,1,9,28,1,10,29,1,10,29,1,11,33,1,10,29,1,9,25,1,5,20,0,13,37,2,5,14,0,3,12,0,0,0,0,1,8,0,3,26,0,1,8,0,0,4,0,1,6,0,1,6,0,1,6,0,2,10,0,2,12,0,5,25,0,17,67,0,28,90,5,29,83,4,22,75,1,9,33,0,5,20,0,5,17,0,5,17,0,5,17,0,6,17,1,6,17,1,6,17,1,6,17,1,5,17,0,5,14,0,7,18,2,5,14,0,3,12,0,2,10,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,0,0,0,0,0,0,4,0,1,6,0,1,8,0,2,10,0,3,14,0,5,17,0,5,17,0,3,14,0,3,17,0,5,17,0,3,14,0,3,14,0,3,14,0,3,14,0,3,14,0,5,20,0,6,17,1,5,17,0,5,14,0,5,14,0,3,12,0,2,10,0,2,8,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,4,0,0,4,0,0,2,0,0,2,0,1,8,0,2,12,0,2,10,0,2,10,0,2,12,0,3,14,0,5,20,0,5,25,0,3,14,0,5,17,0,8,29,0,10,29,1,7,25,0,9,25,1,7,25,0,7,21,1,5,17,0,5,14,0,3,10,0,2,10,0,2,8,0,0,0,0,0,2,0,0,2,0,0,2,0,0,2,0,0,4,0,0,2,0,0,4,0,1,6,0,5,25,0,1,8,0,2,10,0,2,10,0,3,14,0,27,84,1,34,107,5,14,54,0,22,75,1,41,118,3,41,118,3,41,118,3,29,83,4,13,37,2,10,29,1,10,29,1,10,29,1,7,25,0,5,14,0,3,10,0,2,10,0,0,0,0,0,2,0,0,2,0,0,2,0,1,4,0,1,4,0,1,8,0,1,8,0,2,12,0,2,12,0,2,12,0,2,12,0,2,14,0,7,35,0,22,83,0,17,76,0,27,84,1,49,127,12,54,127,7,58,127,3,70,127,12,75,127,27,59,127,18,42,108,12,37,101,6,42,108,12,42,108,12,26,71,5,5,14,0,3,12,0,0,0,0,0,2,0,0,2,0,0,2,0,2,14,0,0,2,0,1,12,0,7,54,0,12,67,0,7,54,0,5,29,0,2,14,0,2,14,0,3,17,0,5,20,0,5,20,0,9,33,0,21,60,3,28,90,5,65,127,17,78,127,26,79,127,21,71,127,5,75,127,23,79,127,29,82,127,34,79,127,21,64,127,5,9,25,1,3,12,0,0,2,0,0,0,0,0,2,0,0,2,0,1,6,0,0,4,0,1,12,0,7,54,0,17,92,0,22,101,0,17,84,0,7,35,0,3,17,0,3,17,0,5,20,0,8,29,0,16,49,1,25,71,2,35,91,10,70,127,22,68,127,8,69,127,3,71,127,3,79,127,24,82,127,26,78,127,18,74,127,3,69,127,5,11,33,1,5,14,0,0,4,0,0,0,0,0,2,0,3,21,0,3,21,0,1,6,0,2,14,0,12,76,0,28,108,11,22,101,5,23,108,0,12,67,0,5,25,0,7,35,0,23,92,0,32,108,1,49,127,12,54,127,12,65,127,22,75,127,23,66,127,9,66,127,3,71,127,5,74,127,3,71,127,3,82,127,29,79,127,24,70,127,12,37,101,6,5,14,0,0,2,0,1,8,0,1,8,0,0,2,0,0,4,0,4,34,0,8,67,0,12,76,0,28,108,11,27,109,6,32,117,6,28,100,0,23,92,0,28,100,0,28,115,0,12,51,0,16,49,1,13,46,0,14,45,1,24,66,4,42,108,12,54,127,7,55,127,1,53,127,2,55,127,2,42,118,6,42,108,12,21,60,3,7,21,1,3,12,0,0,0,0,0,2,0,0,2,0,0,4,0,0,4,0,4,34,0,14,81,3,17,84,0,12,67,0,17,76,0,27,109,6,39,115,5,32,116,0,32,122,0,12,59,0,5,25,0,5,20,0,5,20,0,7,21,1,9,25,1,9,28,1,10,29,1,13,37,1,11,33,1,10,29,1,9,25,1,5,20,0,13,37,2,5,14,0,3,12,0,0,0,0,1,8,0,3,26,0,1,8,0,0,4,0,1,12,0,4,41,0,7,54,0,3,21,0,3,17,0,13,69,3,34,107,5,28,100,0,17,76,0,5,25,0,3,17,0,3,17,0,5,17,0,5,17,0,5,17,0,6,17,1,6,17,1,6,17,1,6,17,1,5,17,0,5,14,0,7,18,2,5,14,0,3,12,0,2,10,0,0,0,0,0,0,0,0,2,0,0,2,0,0,4,0,0,4,0,1,6,0,1,8,0,1,8,0,1,8,0,2,14,0,5,25,0,5,29,0,5,17,0,2,14,0,2,14,0,2,12,0,3,14,0,3,14,0,3,14,0,3,14,0,3,14,0,5,20,0,6,17,1,5,17,0,5,14,0,5,14,0,3,12,0,2,10,0,2,8,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,4,0,0,4,0,0,2,0,0,2,0,1,8,0,2,12,0,2,10,0,17,76,0,12,59,0,3,21,0,3,17,0,5,25,0,3,14,0,7,21,1,7,25,0,7,25,0,7,25,0,9,25,1,7,25,0,7,21,1,5,17,0,5,14,0,3,10,0,2,10,0,2,8,0,0,0,0,0,2,0,0,2,0,0,2,0,0,2,0,0,4,0,0,2,0,0,4,0,1,6,0,5,25,0,1,8,0,2,10,0,17,84,0,22,101,0,9,33,0,5,20,0,5,20,0,7,25,0,11,37,1,26,71,5,25,71,2,15,44,2,13,37,2,14,38,3,13,37,2,13,41,2,10,29,1,5,14,0,3,10,0,2,10,0,0,0,0,0,2,0,0,2,0,0,2,0,1,4,0,1,4,0,1,12,0,1,8,0,2,12,0,2,12,0,2,12,0,2,12,0,5,20,0,5,29,0,7,25,0,9,33,0,13,41,1,22,68,2,43,117,11,75,127,23,75,127,23,64,127,8,59,127,11,65,127,22,75,127,27,65,127,17,59,127,18,26,71,5,5,14,0,3,12,0,0,0,0,0,2,0,0,2,0,0,2,0,2,14,0,4,34,0,10,61,3,12,59,0,4,41,0,2,14,0,2,12,0,5,29,0,17,76,0,22,83,0,27,92,1,41,118,3,65,127,22,65,127,22,65,127,12,66,127,9,75,127,17,82,127,34,82,127,34,79,127,24,78,127,18,82,127,32,82,127,34,70,127,17,9,25,1,3,12,0,0,2,0,0,0,0,0,2,0,0,2,0,1,6,0,3,21,0,12,76,0,17,92,0,12,76,0,3,21,0,2,14,0,5,25,0,23,92,0,34,121,0,42,127,3,65,127,17,70,127,22,60,127,6,61,127,3,64,127,3,68,127,8,75,127,17,82,127,29,82,127,24,78,127,13,78,127,18,74,127,3,64,127,8,11,33,1,5,14,0,0,4,0,0,0,0,0,2,0,0,6,0,4,41,0,12,67,0,22,92,6,26,101,8,17,84,0,4,41,0,3,17,0,12,51,0,17,84,0,10,46,0,12,51,0,28,90,5,59,127,18,60,127,6,65,127,12,61,127,3,66,127,9,66,127,3,79,127,24,82,127,29,78,127,16,74,127,5,66,127,3,41,118,3,37,101,6,5,14,0,0,2,0,1,8,0,1,8,0,1,20,0,8,67,0,14,81,3,17,84,0,17,84,0,17,92,0,12,67,0,13,74,3,23,108,0,17,92,0,5,25,0,5,25,0,11,37,1,32,100,1,50,127,1,50,127,1,36,103,2,34,98,4,29,83,4,21,60,3,27,76,4,42,108,12,42,118,6,42,108,12,21,60,3,7,21,1,3,12,0,0,0,0,0,2,0,0,2,0,4,41,0,8,67,0,8,67,0,7,54,0,4,34,0,7,43,0,13,83,0,22,101,5,28,115,5,12,67,0,3,21,0,11,45,1,28,100,0,37,110,2,38,115,1,17,59,1,9,33,0,9,28,1,10,29,1,9,28,1,11,33,1,10,29,1,9,25,1,5,20,0,13,37,2,5,14,0,3,12,0,0,0,0,1,8,0,3,26,0,3,26,0,7,54,0,4,41,0,1,12,0,2,10,0,1,12,0,7,43,0,12,67,0,12,59,0,5,25,0,3,17,0,5,25,0,22,75,1,27,92,1,22,68,2,7,25,0,5,17,0,6,17,1,6,17,1,6,17,1,6,17,1,5,17,0,5,14,0,7,18,2,5,14,0,3,12,0,2,10,0,0,0,0,0,0,0,0,2,0,0,2,0,1,8,0,1,12,0,1,6,0,1,8,0,1,8,0,1,8,0,2,14,0,2,14,0,2,12,0,5,17,0,2,14,0,2,14,0,5,20,0,5,20,0,3,14,0,3,14,0,3,14,0,3,14,0,5,20,0,6,17,1,5,17,0,5,14,0,5,14,0,3,12,0,2,10,0,2,8,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,4,0,0,0,0,0,0,0,0,0,0,1,8,0,2,12,0,0,0,0,0,0,0,0,0,0,3,21,0,0,0,0,0,0,0,0,0,0,0,0,0,7,25,0,7,25,0,7,25,0,9,25,1,7,25,0,7,21,1,0,0,0,0,0,0,0,0,0,2,10,0,2,8,0,0,0,0,0,2,0,0,2,0,0,2,0,0,2,0,0,4,0,0,2,0,0,4,0,0,0,0,5,25,0,0,6,0,18,101,0,1,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,25,71,2,15,44,2,13,37,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,10,0,0,0,0,0,2,0,0,2,0,0,2,0,1,4,0,1,4,0,1,12,0,1,8,0,2,12,0,2,12,0,0,0,0,4,41,0,4,41,0,0,0,0,0,0,0,8,67,0,26,120,0,39,127,0,77,127,5,26,120,0,13,91,0,13,91,0,13,91,0,26,120,0,37,127,0,37,127,0,59,127,18,0,0,0,0,0,0,3,12,0,0,0,0,0,2,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,41,0,0,0,0,0,0,0,0,0,0,0,0,0,8,67,0,26,120,0,52,127,0,77,127,5,77,127,5,77,127,5,77,127,5,77,127,5,82,127,34,77,127,5,77,127,5,82,127,13,82,127,26,82,127,34,77,127,5,7,54,0,3,12,0,0,2,0,0,0,0,0,0,0,0,0,0,7,54,0,10,79,0,0,2,0,0,0,0,4,34,0,13,91,0,18,101,0,18,101,0,8,67,0,8,67,0,39,127,0,55,127,1,64,127,1,68,127,1,61,127,3,64,127,3,77,127,5,79,127,7,77,127,5,77,127,5,78,127,13,78,127,18,77,127,5,77,127,5,66,127,1,5,14,0,0,4,0,0,0,0,0,2,0,0,6,0,10,79,0,10,79,0,4,34,0,7,54,0,18,101,0,26,120,0,26,120,0,26,120,0,26,120,0,39,127,0,39,127,0,45,127,0,64,127,1,60,127,6,65,127,12,61,127,3,77,127,5,79,127,7,77,127,5,77,127,5,77,127,5,74,127,5,66,127,3,77,127,5,37,101,6,5,14,0,0,2,0,1,8,0,0,0,0,7,54,0,10,79,0,7,54,0,4,34,0,0,0,0,4,41,0,10,79,0,13,91,0,13,91,0,1,12,0,5,25,0,1,20,0,26,120,0,55,127,1,77,127,5,55,127,1,55,127,1,34,98,4,77,127,5,77,127,5,77,127,5,77,127,5,77,127,5,77,127,5,37,127,0,7,21,1,3,12,0,0,0,0,0,0,0,4,34,0,7,54,0,0,6,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,1,20,0,1,12,0,0,2,0,24,114,0,37,127,0,45,127,0,18,101,0,1,12,0,0,0,0,1,12,0,10,29,1,0,6,0,3,26,0,13,91,0,24,114,0,8,67,0,13,37,2,5,14,0,3,12,0,0,0,0,0,0,0,4,34,0,4,34,0,0,0,0,0,0,0,0,0,0,2,10,0,0,0,0,0,0,0,0,0,0,0,0,0,18,101,0,10,79,0,0,0,0,4,34,0,1,20,0,0,0,0,0,0,0,5,17,0,6,17,1,6,17,1,6,17,1,6,17,1,5,17,0,0,0,0,7,18,2,5,14,0,3,12,0,2,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,6,0,1,8,0,1,8,0,0,0,0,0,0,0,0,0,0,10,79,0,1,20,0,2,14,0,0,0,0,0,0,0,0,0,0,3,14,0,3,14,0,3,14,0,3,14,0,5,20,0,6,17,1,5,17,0,5,14,0,5,14,0,3,12,0,2,10,0,2,8,0};



void setFire(){
  uint8_t* buf = pixels.getPixels();
  for(int repeats=0; repeats<100; repeats++){
    for(int j=0; j<17; j++){
      memcpy(buf, (void*) FIRE + j*10*30*3, 10*30*3);
      pixels.show();
      delay(90);
    }
  }
}

void setToaster(){
//  uint8_t* buf = pixels.getPixels();
  for(int i=0; i<30; i++) {
    // pixels.Color() takes RGB values, from 0,0,0 up to 255,255,255
//    pixels.setPixelColor(i, pixels.Color(100, 0, 0));

  }
  pixels.fill(pixels.Color(40, 0, 0), 0, 30);
  pixels.fill(pixels.Color(40, 0, 0), 60, 30);
  pixels.fill(pixels.Color(40, 0, 0), 150, 30);
  pixels.fill(pixels.Color(40, 0, 0), 270, 30);


  pixels.show();
//delay(DELAYVAL);
}

// TODO: this can be removed
void setLadder(){
  int y = 0;
  int j = 0;
  while(true){
    j += y;
    if(j >= 30)
      break;
      
    for(int i=0; i<5; i++) {
      pixels.setPixelColor(j + i*60, pixels.Color(40, 0, 0));
    }
  
    for(int i=0; i<5; i++) {
      pixels.setPixelColor(60-1-j + i*60, pixels.Color(40, 0, 0));
    }
    y++;

  }  
  
  pixels.show();
}

#endif


// SERVER
#include <ESP8266WiFi.h>
#include <WiFiClient.h>
#include <ESP8266WiFiMulti.h> 
#include <ESP8266mDNS.h>
#include <ESP8266WebServer.h>

ESP8266WiFiMulti wifiMulti;     // Create an instance of the ESP8266WiFiMulti class, called 'wifiMulti'

ESP8266WebServer server(80);    // Create a webserver object that listens for HTTP request on port 80

const int led = 2;

void handleRoot();              // function prototypes for HTTP handlers
void handleLED();
void handleNotFound();

const char INDEX_HTML[] = R"(
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <title>Sirius Lamp</title>
    <style>
      html, body {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>

    <iframe id="frame" style="width:100%; height:100%;" frameBorder="0"></iframe>
    
    <script src="script"></script>
    
    <script>
      console.log("init")
      
      let frame = document.getElementById("frame")
      frame.src = (window.location.hash === "#test") ? "http://rmst.local:3000" : URL
      frame.addEventListener( "load", () => {
        frame.contentWindow.postMessage({}, frame.src)
      })
      
      window.addEventListener("message", (event) => {
        // Do we trust the sender of this message?  (might be
        // different from what we originally opened, for example).
        
        // console.log("Embedder received message from", event.origin)

        if (event.origin !== "https://simonramstedt.com" && event.origin !== "http://rmst.local:3000")
          return;
      
        // console.log("msg from frame", event.data)
      
        if(event.data.type === "init"){
          let script = document.createElement('script')
          script.text = event.data.script
          document.documentElement.appendChild(script)
        }
        
      }, false);
    
    </script>
  </body>
</html>
)";


void handleSave() {                          // If a POST request is made to URI /LED
//  digitalWrite(led,!digitalRead(led));      // Change the state of the LED
//  setColor(1, 1, 100);
//  server.sendHeader("Location","/");        // Add a header to respond with a new location for the browser to go to the home page again
//  server.send(303);                         // Send it back to the browser with an HTTP status 303 (See Other) to redirect
  EEPROM.put(0, (uint8_t) cr);
  EEPROM.put(1, (uint8_t) cg);
  EEPROM.put(2, (uint8_t) cb);
  EEPROM.commit();
  server.send(200);
}

void handleSet() {                          // If a POST request is made to URI /LED
//  digitalWrite(led,!digitalRead(led));      // Change the state of the LED
  
  setColor(server.arg("r").toInt(), server.arg("g").toInt(), server.arg("b").toInt());
  server.send(200);
}

void handleRoot() {                         // When URI / is requested, send a web page with a button to toggle the LED
  server.send(200, "text/html", INDEX_HTML);
}


const char SCRIPT_TEMPLATE[] = R"(
  URL = `%s`
  CURRENT_COLOR = [%d, %d, %d]
)";

void handleScript() {
  char buffer[sizeof(SCRIPT_TEMPLATE) + 1024];

  sprintf(buffer, SCRIPT_TEMPLATE, UI_URL, cr, cg, cb);
  
  server.send(200, "text/javascript", buffer);
}

void handleNotFound(){
  server.send(404, "text/plain", "404: Not found"); // Send HTTP status 404 (Not Found) when there's no handler for the URI in the request
}







//
// SETUP
//

void setup(void){


  // SERVER SETUP
  
  Serial.begin(115200);         // Start the Serial communication to send messages to the computer
  delay(10);
  Serial.println('\n');

  pinMode(led, OUTPUT);

  wifiMulti.addAP(WIFI0);   // add Wi-Fi networks you want to connect to
  wifiMulti.addAP(WIFI1);
  wifiMulti.addAP(WIFI2);

  Serial.println("Connecting ...");
  int i = 0;
  while (wifiMulti.run() != WL_CONNECTED) { // Wait for the Wi-Fi to connect: scan for Wi-Fi networks, and connect to the strongest of the networks above
    delay(250);
    Serial.print('.');
  }
  Serial.println('\n');
  Serial.print("Connected to ");
  Serial.println(WiFi.SSID());              // Tell us what network we're connected to
  Serial.print("IP address:\t");
  Serial.println(WiFi.localIP());           // Send the IP address of the ESP8266 to the computer

  if (MDNS.begin("lampe")) {              // Start the mDNS responder for esp8266.local
    Serial.println("mDNS responder started");
    MDNS.addService("http", "tcp", 80);  // Haven't really found this necessary yet
  } else {
    Serial.println("Error setting up MDNS responder!");
  }

  server.on("/", HTTP_GET, handleRoot);     // Call the 'handleRoot' function when a client requests URI "/"
  server.on("/script", HTTP_GET, handleScript);
  server.on("/save", HTTP_POST, handleSave);  // Call the 'handleSave' function when a POST request is made to URI /save
  server.on("/set", HTTP_POST, handleSet);  // Call the 'handleSet' function when a POST request is made to URI "/set"
  server.onNotFound(handleNotFound);        // When a client requests an unknown URI (i.e. something other than "/"), call function "handleNotFound"

  server.begin();                           // Actually start the server
  Serial.println("HTTP server started");


  // PERSISTENCE
  EEPROM.begin(16);
  if(0) {
    Serial.println("First start, welcome :)");

    saveColor(1, 1, 1);
  }

  EEPROM.get(0, pr);
  EEPROM.get(1, pg);
  EEPROM.get(2, pb);

  // NEOPIXEL SETUP
  #if defined(__AVR_ATtiny85__) && (F_CPU == 16000000)
  clock_prescale_set(clock_div_1);
  #endif
  //    pixels.setBrightness(brightness);
  pixels.begin();
  pixels.clear();

  setColor(pr, pg, pb);

  #ifdef TEST
//  setToaster();
//  setLadder();
  setFire();  
  #endif
  
}



//
// LOOP
//

void loop(void){
  MDNS.update();
  server.handleClient();                    // Listen for HTTP requests from clients
}
